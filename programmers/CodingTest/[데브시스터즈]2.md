using System.CodeDom.Compiler;
using System.Collections.Generic;
using System.Collections;
using System.ComponentModel;
using System.Diagnostics.CodeAnalysis;
using System.Globalization;
using System.IO;
using System.Linq;
using System.Reflection;
using System.Runtime.Serialization;
using System.Text.RegularExpressions;
using System.Text;
using System;



public class Solution {
    public static int solution(int[,] field, int farmSize) {
        int answer = 101;
        for(int i =0;i<field.GetLength(0)-farmSize+1;i++)
        {
            for(int j =0;j<field.GetLength(1)-farmSize+1;j++)
            {
                int rock=0;
                bool mFlag = false;
                for(int farmx = 0;farmx<farmSize;farmx++)
                {
                    for(int farmy = 0;farmy<farmSize;farmy++)
                    {
                        if(field[i+farmx,j+farmy]==1)
                            rock++;
                        else if(field[i+farmx,j+farmy]==2)
                        {
                            mFlag = true;
                            break;
                        }
                        else continue;
                    }
                }
                if(!mFlag)
                {
                    if(answer>rock)
                        answer = rock;
                }
            }
        }
        if(answer == 101) return -1;
        else return answer;
    }
    public static void Main(string[] args)
    {
        int[,] field = new int[,] {{0,0,1,0,0},{1,1,0,0,2},{1,0,0,0,0}};
        int farmSize = 3;
        Console.WriteLine(solution(field,farmSize));
    }
}